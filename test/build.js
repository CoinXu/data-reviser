module.exports=function(t){var r={};function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,r){if(1&r&&(t=e(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)e.d(n,o,function(r){return t[r]}.bind(null,o));return n},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="/test/",e(e.s=0)}([function(t,r,e){"use strict";function n(t,r){return"number"!=typeof r?{value:!1,error:m.TYPE_ERROR}:r>2147483647||r<-2147483648?{value:!1,error:m.SIZE_ERROR}:r%1!=0?{value:!1,error:m.TYPE_ERROR}:{value:!0}}function o(t,r){if("object"!=typeof r||null===r||r instanceof Array)return void 0!==this[t]&&"function"==typeof this[t].setModel&&(this[t].setModel({}),this[t]=this[t].getModel()),{value:!1,error:m.TYPE_ERROR};var e=new this[R][t],n=e.setModel(r);return e.getModel(),0!==Object.keys(n).length?(void 0!==this[t]&&"function"==typeof this[t].setModel&&(this[t].setModel(r),this[t]=this[t].getModel()),{value:!1,key:n,error:m.TYPE_ERROR}):{value:!0}}function u(t,r,e,n){if(void 0===n&&(n=1),r instanceof Array){var o=void 0;void 0!==this[t]&&this[t]instanceof Array&&this[t].length>0&&(o=this[t][0]);var u=[],a=function t(r,e,n,o,u,a,c,s){for(var p,d=new Array,f=0;f<r.length;f++)if(r[f]instanceof Array)n<=o?(l.call(this,e,s,a,u),d.push({index:i(c,f),error:m.TYPE_ERROR})):(e.push([]),d=d.concat(t.call(this,r[f],e[e.length-1],n,o+1,u,a,i(c,f),s)));else if(n<=o)(p=a.call(this,u,r[f])).value?e.push(r[f]):(l.call(this,e,s,a,u,r[f]),d.push({index:i(c,f),error:p.error,key:p.key}));else{r[f]=[];for(var v=r[f],h=o;h<n;h++)v.push([]),v=v[0];l.call(this,e,s,a,u),d.push({index:i(c,f),error:m.TYPE_ERROR})}return d}.call(this,r,u,n,1,t,e,"",o);return void 0!==this[t]&&(this[t]=u),a.length?{value:!1,index:a}:{value:!0}}return{value:!1,error:m.TYPE_ERROR}}function i(t,r){return""===t?t+r:t+"-"+r}function l(t,r,e,n,o){if(void 0===o&&(o=null),e===E.STRUCT){var u=new this[R][n];u.setModel(o),t.push(u.getModel())}else void 0!==r&&t.push(r)}function a(t,r){return"number"!=typeof r?{value:!1,error:m.TYPE_ERROR}:r>Math.pow(2,1024)||r<-Math.pow(2,1024)?{value:!1,error:m.SIZE_ERROR}:{value:!0}}function c(t,r){return"number"!=typeof r?{value:!1,error:m.TYPE_ERROR}:r>Math.pow(2,128)||r<-Math.pow(2,128)?{value:!1,error:m.SIZE_ERROR}:{value:!0}}function s(t,r){return"number"!=typeof r?{value:!1,error:m.TYPE_ERROR}:r>0x8000000000000000||r<-0x8000000000000000?{value:!1,error:m.SIZE_ERROR}:r%1!=0?{value:!1,error:m.TYPE_ERROR}:{value:!0}}function p(t,r){return"string"!=typeof r?{value:!1,error:m.TYPE_ERROR}:{value:!0}}function d(t,r){return"number"!=typeof r?{value:!1,error:m.TYPE_ERROR}:r>4294967295||r<0?{value:!1,error:m.SIZE_ERROR}:r%1!=0?{value:!1,error:m.TYPE_ERROR}:{value:!0}}function f(t,r){return"number"!=typeof r?{value:!1,error:m.TYPE_ERROR}:r>0x10000000000000000||r<0?{value:!1,error:m.SIZE_ERROR}:r%1!=0?{value:!1,error:m.TYPE_ERROR}:{value:!0}}function v(t,r){return"boolean"!=typeof r?{value:!1,error:m.TYPE_ERROR}:{value:!0}}function h(t,r){return"string"!=typeof r?{value:!1,error:m.TYPE_ERROR}:/^([\w-_]+(?:\.[\w-_]+)*)@((?:[a-z0-9]+(?:-[a-zA-Z0-9]+)*)+\.[a-z]{2,6})$/.test(r)?{value:!0}:{value:!1,error:m.TYPE_ERROR}}function y(t,r){try{return/^1[3-9](\d{9})$/.test(r)?{value:!0}:{value:!1,error:m.TYPE_ERROR}}catch(t){return{value:!1,error:m.TYPE_ERROR}}}e.r(r);var g="_validator_",R="_class_",m={TYPE_ERROR:"type error",SIZE_ERROR:"size error",REQUIRE_ERROR:"require error",LENGTH_MIN_ERRO:"length less than min",LENGTH_MAX_ERRO:"length more than max"},E={INT32:n,INT64:s,DOUBLE:a,FLOAT:c,STRING:p,STRUCT:o,UNINT32:d,UNINT64:f,BOOLEAN:v,EMAIL:h,PHONE:y};function M(t,r,e,n){if(t.value)return!0;var o=void 0;if(t.index){this.errMsg[r]=[];for(var u=0;u<t.index.length;u++)o=void 0!==t.index[u].key?{type:t.index[u].error,msg:n,index:t.index[u].index,key:t.index[u].key}:{type:t.index[u].error,msg:n,index:t.index[u].index},this.errMsg[r].push(o)}else o=void 0!==t.key?{type:t.error,msg:n,key:t.key}:{type:t.error,msg:n},this.errMsg[r]=o;return!1}function T(t,r){var e=t[g]||(t[g]={}),n=t.initModel||(t.initModel={});return n[r]||(n[r]=!1),e[r]||(e[r]=[])}function w(t,r,e,n,o,u,i){void 0===o&&(o=!1),void 0===u&&(u=null),void 0===i&&(i=null),T.call(this,t,r).push(function(t,r){var l;return void 0!==r&&(l=o?n.call(this,t,r,u,i):n.call(this,t,r),M.call(this,l,t,r,e))})}var _={DecoArray:function(t,r,e){return void 0===r&&(r=null),void 0===e&&(e=1),function(n,o){w.call(this,n,o,r,u,!0,t,e)}},DecoBoolean:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,v)}},DecoDouble:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,a)}},DecoFloat:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,c)}},DecoInt32:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,n)}},DecoInt64:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,s)}},DecoStruct:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,o)}},DecoString:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,p)}},DecoUnInt32:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,d)}},DecoUnInt64:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,f)}},StructType:function(t){return function(r,e){(r[R]||(r[R]={}))[e]=t}},Validator:function(){function t(){this.model={}}return t.prototype.setModel=function(t){if(this.errMsg={},this.initModel){var r=void 0,e=!0;for(var n in this.initModel)if(Object.prototype.hasOwnProperty.call(this,n))try{r=this[g][n],e=!0;for(var o=0;o<r.length;o++)e=e&&this[g][n][o].call(this,n,t[n]);e&&(this[n]=t[n]),void 0!==this[n]&&(this.model[n]=this[n])}catch(t){console.log(t)}}return this.errMsg},t.prototype.getModel=function(){return this.model},t.prototype.getArrayModel=function(t){for(var r=[],e=0;e<t.length;e++)"object"==typeof t[e]?t[e]instanceof Array?r.push(this.getArrayModel(t[e])):r.push(t[e].getModel()):r.push(t[e]);return r},t}(),ERROR_TYPE:m,VERI_TYPE:E,DecoRequire:function(t){return void 0===t&&(t=null),function(r,e){var n=T.call(this,r,e);r.initModel[e]=!0,n.push(function(r,e){return void 0===e?M.call(this,{value:!1,error:m.REQUIRE_ERROR},r,e,t):!("string"==typeof e&&(e=(e=e.replace(/^([\s]+)/g,"")).replace(/([\s]+)$/g,"")).length<=0)||M.call(this,{value:!1,error:m.REQUIRE_ERROR},r,e,t)})}},DecoEmail:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,h)}},DecoPhone:function(t){return void 0===t&&(t=null),function(r,e){w.call(this,r,e,t,y)}},DecoMinLength:function(t,r){return void 0===r&&(r=null),function(e,n){T.call(this,e,n).push(function(e,n){try{return n.length>=t||M.call(this,{value:!1,error:m.LENGTH_MIN_ERRO},e,n,r)}catch(t){return M.call(this,{value:!1,error:m.TYPE_ERROR},e,n,r)}})}},DecoMaxLength:function(t,r){return void 0===r&&(r=null),function(e,n){T.call(this,e,n).push(function(e,n){try{return n.length<=t||M.call(this,{value:!1,error:m.LENGTH_MAX_ERRO},e,n,r)}catch(t){return M.call(this,{value:!1,error:m.TYPE_ERROR},e,n,r)}})}}},O=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])};return function(r,e){function n(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),D=function(t,r,e,n){var o,u=arguments.length,i=u<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,r,e,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(u<3?o(i):u>3?o(r,e,i):o(r,e))||i);return u>3&&i&&Object.defineProperty(r,e,i),i};r.default={testAllRight:function(){var t=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num=1,r}return O(r,t),D([_.DecoInt32("wrong")],r.prototype,"num",void 0),r}(_.Validator),r=new(function(r){function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.num1=1,e.num64=1,e.unnum32=1,e.unnum64=1,e.double=1,e.float=1,e.str="demo",e.boo=!1,e.mail="",e.phone=null,e.numarr=[],e.obj=new t,e}return O(e,r),D([_.DecoRequire("require"),_.DecoInt32("wrong")],e.prototype,"num1",void 0),D([_.DecoInt64("wrong")],e.prototype,"num64",void 0),D([_.DecoUnInt32("wrong")],e.prototype,"unnum32",void 0),D([_.DecoUnInt64("wrong")],e.prototype,"unnum64",void 0),D([_.DecoDouble("wrong")],e.prototype,"double",void 0),D([_.DecoFloat("wrong")],e.prototype,"float",void 0),D([_.DecoString("wrong")],e.prototype,"str",void 0),D([_.DecoBoolean("wrong")],e.prototype,"boo",void 0),D([_.DecoEmail("wrong")],e.prototype,"mail",void 0),D([_.DecoPhone("wrong")],e.prototype,"phone",void 0),D([_.DecoArray(_.VERI_TYPE.INT32,"wrong")],e.prototype,"numarr",void 0),D([_.DecoStruct("wrong"),_.StructType(t)],e.prototype,"obj",void 0),e}(_.Validator)),e=r.setModel({num1:10,num64:64,unnum32:100,unnum64:6400,double:1.11,float:1.1,str:"test",numarr:[1,2,3,4],boo:!0,mail:"295958897@qq.com",phone:13560521917,obj:{num:11}});return{model:r.getModel(),errmsg:e}},testRequireWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num1=1,r}return O(r,t),D([_.DecoRequire("require")],r.prototype,"num1",void 0),r}(_.Validator)),r=t.setModel({});return{model:t.getModel(),errmsg:r}},testInt32TypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num1=1,r}return O(r,t),D([_.DecoInt32("wrong")],r.prototype,"num1",void 0),r}(_.Validator)),r=t.setModel({num1:"10"});return{model:t.getModel(),errmsg:r}},testInt64TypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num64=1,r}return O(r,t),D([_.DecoInt64("wrong")],r.prototype,"num64",void 0),r}(_.Validator)),r=t.setModel({num64:"64"});return{model:t.getModel(),errmsg:r}},testUnInt32TypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.unnum32=1,r}return O(r,t),D([_.DecoUnInt32("wrong")],r.prototype,"unnum32",void 0),r}(_.Validator)),r=t.setModel({unnum32:"100"});return{model:t.getModel(),errmsg:r}},testUnInt64TypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.unnum64=1,r}return O(r,t),D([_.DecoUnInt64("wrong")],r.prototype,"unnum64",void 0),r}(_.Validator)),r=t.setModel({unnum64:"6400"});return{model:t.getModel(),errmsg:r}},testDoubleTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.double=1,r}return O(r,t),D([_.DecoDouble("wrong")],r.prototype,"double",void 0),r}(_.Validator)),r=t.setModel({double:"1.11"});return{model:t.getModel(),errmsg:r}},testFloatTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.float=1,r}return O(r,t),D([_.DecoFloat("wrong")],r.prototype,"float",void 0),r}(_.Validator)),r=t.setModel({float:"1.1"});return{model:t.getModel(),errmsg:r}},testStringTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.str="demo",r}return O(r,t),D([_.DecoString("wrong")],r.prototype,"str",void 0),r}(_.Validator)),r=t.setModel({str:1});return{model:t.getModel(),errmsg:r}},testArrayTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.numarr=[],r}return O(r,t),D([_.DecoArray(_.VERI_TYPE.INT32,"wrong")],r.prototype,"numarr",void 0),r}(_.Validator)),r=t.setModel({numarr:1});return{model:t.getModel(),errmsg:r}},testArraySubTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.numarr=[],r}return O(r,t),D([_.DecoArray(_.VERI_TYPE.INT32,"wrong")],r.prototype,"numarr",void 0),r}(_.Validator)),r=t.setModel({numarr:[1,2,3,"4"]});return{model:t.getModel(),errmsg:r}},testBooleanTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.boo=!1,r}return O(r,t),D([_.DecoBoolean("wrong")],r.prototype,"boo",void 0),r}(_.Validator)),r=t.setModel({boo:2});return{model:t.getModel(),errmsg:r}},testStructTypeWrong:function(){var t=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num=1,r}return O(r,t),D([_.DecoInt32("wrong")],r.prototype,"num",void 0),r}(_.Validator),r=new(function(r){function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.obj=new t,e}return O(e,r),D([_.DecoStruct("wrong"),_.StructType(t)],e.prototype,"obj",void 0),e}(_.Validator)),e=r.setModel({obj:11});return{model:r.getModel(),errmsg:e}},testStructEntryTypeWrong:function(){var t=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num=1,r}return O(r,t),D([_.DecoInt32("wrong")],r.prototype,"num",void 0),r}(_.Validator),r=new(function(r){function e(){var e=null!==r&&r.apply(this,arguments)||this;return e.obj=new t,e}return O(e,r),D([_.DecoStruct("wrong"),_.StructType(t)],e.prototype,"obj",void 0),e}(_.Validator)),e=r.setModel({obj:{num:"11"}});return{model:r.getModel(),errmsg:e}},testEmailTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.mail="",r}return O(r,t),D([_.DecoEmail("wrong")],r.prototype,"mail",void 0),r}(_.Validator)),r=t.setModel({mail:"123456789"});return{model:t.getModel(),errmsg:r}},testPhoneTypeWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.phone=null,r}return O(r,t),D([_.DecoPhone("wrong")],r.prototype,"phone",void 0),r}(_.Validator)),r=t.setModel({phone:123456789});return{model:t.getModel(),errmsg:r}},testMaxLengthWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.str="demo",r}return O(r,t),D([_.DecoMaxLength(4,"length wrong")],r.prototype,"str",void 0),r}(_.Validator)),r=t.setModel({str:"demo12"});return{model:t.getModel(),errmsg:r}},testMinLengthWrong:function(){var t=new(function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.str="demo",r}return O(r,t),D([_.DecoMinLength(2,"length wrong")],r.prototype,"str",void 0),r}(_.Validator)),r=t.setModel({str:"d"});return{model:t.getModel(),errmsg:r}},testArraySubTypeStruct:function(){var t=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num=1,r}return O(r,t),D([_.DecoInt32()],r.prototype,"num",void 0),r}(_.Validator),r=new(function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.numarr=[],t}return O(e,r),D([_.DecoArray(_.VERI_TYPE.STRUCT,"wrong"),_.StructType(t)],e.prototype,"numarr",void 0),e}(_.Validator)),e=r.setModel({numarr:[{num:11},{num:12}]});return{model:r.getModel(),errmsg:e}},testArraySubTypeWrongStruct:function(){var t=function(t){function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.num=1,r}return O(r,t),D([_.DecoInt32("wrong int")],r.prototype,"num",void 0),r}(_.Validator),r=new(function(r){function e(){var t=null!==r&&r.apply(this,arguments)||this;return t.numarr=[],t}return O(e,r),D([_.DecoArray(_.VERI_TYPE.STRUCT,"wrong"),_.StructType(t)],e.prototype,"numarr",void 0),e}(_.Validator)),e=r.setModel({numarr:[{num:11},{num:"12"}]});return{model:r.getModel(),errmsg:e}}}}]);